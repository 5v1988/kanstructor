tests:
  - name: Login success
    exclude: false
    browser: chrome

    arrange:
      - name: open_url
        base_url: https://dashboard-qa.ninjavan.co/v2/login

    act:
      - name: enter_username
        locator: login_email
        action: type
        pause: 3
        value: dashqaauto.mailbox@gmail.com

      - name: enter_password
        locator: login_password
        action: type
        value: Ninjitsu89

      - name: press_login
        locator: login_button
        action: click

    assert:
      - name: check_home_screen_logo
        type: element
        locator: home_logo
        pause: 3
        state: visible

      - name: check_home_screen_modal
        type: text
        text: Got it!
        state: visible

  - name: Login failure
    exclude: false
    browser: chrome

    arrange:
      - name: open_url
        base_url: https://dashboard-qa.ninjavan.co/v2/login

    act:
      - name: take_landing_page_screenshot
        action: snapshot
        path: "src/snapshots/login/login-landing-original.png"

      - name: enter_username
        locator: login_email
        action: type
        value: account.mailbox@gmail.com

      - name: enter_password
        locator: login_password
        action: type
        value: Ninjitsu90

      - name: press_login
        locator: login_button
        action: click

      - name: take_login_error_screenshot
        pause: 1
        action: snapshot
        path: "src/snapshots/login/login-fail-original.png"

    assert:
      - name: check_login_fail
        type: text
        text: Wrong username or password
        state: visible

      - name: verify_landing_screenshot
        type: snapshot
        original: "src/snapshots/login/login-landing-original.png"
        reference: "src/snapshots/login/login-landing-reference.png"

      - name: compare_login_fail_with_screenshot
        type: snapshot
        original: "src/snapshots/login/login-fail-original.png"
        reference: "src/snapshots/login/chrome-login-fail-reference.png"        